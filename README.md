# jstarter
# SpringBoot Dev Scaffold Generator

This project provides a **Makefile-based scaffold generator** to rapidly bootstrap a clean and production-friendly Spring Boot microservice. It includes templates and helper commands for:

* ğŸ”§ Local PostgreSQL setup
* ğŸš€ Spring Boot app run
* ğŸ“ Application skeleton creation
* ğŸ§¹ Container cleanup

All components are versionable, reusable, and extensible. It's ideal for developers who want structure without overhead.

---

## ğŸŒ± Project Structure (Generated by `make init`) ğŸ“

When you run `make init SERVICE=my-app`, the following structure is created:

```
my-app/
â”œâ”€â”€ init.sql               # Optional SQL bootstrap script
â”œâ”€â”€ Makefile               # Project-specific Makefile
â”œâ”€â”€ application.yml        # Default Spring configuration
â”œâ”€â”€ Dockerfile             # Multi-stage Spring Boot builder image
â”œâ”€â”€ docker-compose.yml     # Local stack (Spring + DB)
```

---

## âš™ï¸ Existing Command Landscape

### ğŸ” `make db-preview`

Prints the **Docker CLI** commands to bootstrap a PostgreSQL container, volume, and network:

* Volume name: `$(ROOT_NAME)-volume`
* Network: `$(ROOT_NAME)-net`
* Container: `$(ROOT_NAME)-1`

### ğŸ— `make db-run`

Runs the database container, including health checks and persistence:

* Uses Docker volume and custom network
* Exposes port 5432
* Reads `POSTGRES_DB`, `POSTGRES_USER`, and `POSTGRES_PASSWORD` from `.env` or Makefile

### ğŸ§ª `make db-exec`

Opens a terminal session into the running database using `psql` with credentials from the config.

### ğŸ“œ `make init-preview`

Prints a command snippet to run the `init.sql` file using a **temporary PostgreSQL container**:

* No need to touch the running DB
* Safe and idempotent

### ğŸš€ `make app-run`

Builds and launches the Spring Boot app using:

```bash
./mvnw spring-boot:run
```

Echoes the active profile and loads the application config from `application.yml`.

### ğŸ— `make init SERVICE=my-new-app`

Generates a complete directory structure for a new Spring Boot service:

* Includes `init.sql`, `Dockerfile`, `docker-compose.yml`, `application.yml`, and a `Makefile` scoped to the service

### ğŸ§¹ `make db-clean`

Stops and removes:

* The DB container
* Its Docker volume
* The network

Use this to wipe everything when starting fresh.

### ğŸ§¼ `make clean`

A global cleanup command:

* Cleans the app and DB containers
* Clears volumes and networks
* Great for full teardown during tests or demos

---

## ğŸ”¨ Sample Makefile Targets

Youâ€™ll find a master `Makefile` at the root with core logic. Generated projects will receive a local `Makefile` with:

```makefile
ROOT_NAME=my-app
POSTGRES_DB=mydb
POSTGRES_USER=dev
POSTGRES_PASSWORD=devpass

include ../Makefile.core
```

This keeps logic reusable and scoped.

---

## ğŸ§± Technologies Used

| Tool           | Purpose                             |
| -------------- | ----------------------------------- |
| Docker         | Containerization of DB and App      |
| Docker Compose | Local stack bootstrapping           |
| Make           | Workflow automation and consistency |
| PostgreSQL     | Default dev database engine         |
| Spring Boot    | Java backend framework              |

---

## ğŸ§¬ Extensibility

* Want Kafka? Add a `kafka-compose.yml` and extend `make init` to support `--with-kafka`.
* Need MongoDB instead of Postgres? Add a `DB_TYPE` switch.
* Want service templates per domain? Add archetypes under `templates/`

---

## ğŸš€ Getting Started

```bash
# Generate your first Spring Boot microservice scaffold
make init SERVICE=orders-service

# Navigate into it
cd orders-service

# Run the DB
make db-run

# Run the app
make app-run

# Inspect logs or exec into DB
make db-logs
make db-exec
```

---

## ğŸ§¯ Cleanup

```bash
make db-stop
make db-clean
make clean
```

---

## ğŸ‘¨â€ğŸ’» Author & License

Crafted with vengeance against chaos and boilerplate. Use it, fork it, break it, improve it.

MIT License.

---

Need CI templates or GitHub Actions support? Ping me. Letâ€™s make the boilerplate *beg* for mercy.
